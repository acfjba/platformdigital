(()=>{var e={};e.id=7848,e.ids=[7848],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},3330:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),r(64580),r(13321),r(85070),r(35866);var s=r(23191),a=r(88716),i=r(37922),n=r.n(i),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["dashboard",{children:["platform-management",{children:["school-management",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,64580)),"C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\platform-management\\school-management\\create\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13321)),"C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,85070)),"C:\\Users\\Admin\\Desktop\\app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\platform-management\\school-management\\create\\page.tsx"],m="/dashboard/platform-management/school-management/create/page",p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/platform-management/school-management/create/page",pathname:"/dashboard/platform-management/school-management/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},14041:(e,t,r)=>{Promise.resolve().then(r.bind(r,20319))},20319:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(10326);r(17577);var a=r(35047),i=r(74723),n=r(74064),o=r(770),l=r(12727),d=r(29752),c=r(91664),m=r(41190),p=r(44794),u=r(86333),x=r(50949),h=r(77506),f=r(13961),g=r(84097),v=r(76025),b=r(76),y=r(33261);let j=o.Ry({id:o.Z_().min(3,"School ID must be at least 3 characters."),name:o.Z_().min(3,"School Name is required."),address:o.Z_().min(5,"Address is required."),type:o.Z_().min(3,"School type is required (e.g., Primary, Secondary).")});async function w(e){if(!v.db)throw Error("Firebase is not configured.");let t=(0,b.JU)(v.db,"schools",e.id);return await (0,b.pl)(t,{name:e.name,address:e.address,type:e.type}),{success:!0}}function N(){let{toast:e}=(0,g.pm)(),t=(0,a.useRouter)(),{register:r,handleSubmit:o,formState:{errors:b,isSubmitting:N}}=(0,i.cI)({resolver:(0,n.F)(j)}),k=async r=>{if(!v.W){e({variant:"destructive",title:"Creation Failed",description:"Firebase is not configured. Please check your .env file."});return}try{await w(r),e({title:"School Created",description:`School "${r.name}" with ID "${r.id}" has been successfully created.`}),t.push("/dashboard/platform-management/school-management")}catch(t){e({variant:"destructive",title:"Creation Failed",description:t instanceof Error?t.message:"An unknown error occurred."})}};return(0,s.jsxs)("div",{className:"p-8 space-y-8",children:[s.jsx(l.m,{title:"Create New School",description:"Add a new school to the platform by providing its details below.",children:(0,s.jsxs)(c.Button,{variant:"outline",onClick:()=>t.back(),children:[s.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Back"]})}),!v.W&&(0,s.jsxs)(y.bZ,{variant:"destructive",children:[s.jsx(x.Z,{className:"h-4 w-4"}),s.jsx(y.Cd,{children:"Firebase Not Configured"}),s.jsx(y.X,{children:"The application cannot connect to Firebase. The form is in read-only mode and new schools cannot be created."})]}),s.jsx("form",{onSubmit:o(k),children:(0,s.jsxs)(d.Zb,{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)(d.Ol,{children:[s.jsx(d.ll,{children:"School Details"}),s.jsx(d.SZ,{children:"The School ID will be used to link users and data to this school. It cannot be changed later."})]}),(0,s.jsxs)(d.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx(p.Label,{htmlFor:"id",children:"School ID"}),s.jsx(m.I,{id:"id",...r("id"),placeholder:"e.g., SCH-001 or 2009"}),b.id&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:b.id.message})]}),(0,s.jsxs)("div",{children:[s.jsx(p.Label,{htmlFor:"name",children:"School Name"}),s.jsx(m.I,{id:"name",...r("name"),placeholder:"e.g., Vuda District School"}),b.name&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:b.name.message})]}),(0,s.jsxs)("div",{children:[s.jsx(p.Label,{htmlFor:"address",children:"Address"}),s.jsx(m.I,{id:"address",...r("address"),placeholder:"e.g., 123 Main Street, Lautoka"}),b.address&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:b.address.message})]}),(0,s.jsxs)("div",{children:[s.jsx(p.Label,{htmlFor:"type",children:"School Type"}),s.jsx(m.I,{id:"type",...r("type"),placeholder:"e.g., Primary School"}),b.type&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:b.type.message})]})]}),(0,s.jsxs)(d.eW,{className:"flex justify-between",children:[(0,s.jsxs)(c.Button,{variant:"outline",type:"button",onClick:()=>t.back(),children:[s.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Back to List"]}),(0,s.jsxs)(c.Button,{type:"submit",disabled:N||!v.W,children:[N?s.jsx(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(f.Z,{className:"mr-2 h-4 w-4"}),N?"Creating...":"Create School"]})]})]})})]})}},86333:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},13961:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62881).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},50949:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},12727:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var s=r(10326);function a({title:e,description:t,children:r}){return(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e}),s.jsx("p",{className:"text-lg text-muted-foreground",children:t})]}),r&&s.jsx("div",{className:"flex-shrink-0",children:r})]})}r(17577)},33261:(e,t,r)=>{"use strict";r.d(t,{Cd:()=>d,X:()=>c,bZ:()=>l});var s=r(10326),a=r(17577),i=r(79360),n=r(51223);let o=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=a.forwardRef(({className:e,variant:t,...r},a)=>s.jsx("div",{ref:a,role:"alert",className:(0,n.cn)(o({variant:t}),e),...r}));l.displayName="Alert";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));d.displayName="AlertTitle";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},29752:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>o,SZ:()=>d,Zb:()=>n,aY:()=>c,eW:()=>m,ll:()=>l});var s=r(10326),a=r(17577),i=r(51223);let n=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let o=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let m=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));m.displayName="CardFooter"},41190:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(10326),a=r(17577),i=r(51223);let n=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));n.displayName="Input"},44794:(e,t,r)=>{"use strict";r.d(t,{Label:()=>d});var s=r(10326),a=r(17577),i=r(29152),n=r(79360),o=r(51223);let l=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},r)=>s.jsx(i.f,{ref:r,className:(0,o.cn)(l(),e),...t}));d.displayName=i.f.displayName},64580:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var s=r(68570);let a=(0,s.createProxy)(String.raw`C:\Users\Admin\Desktop\app\app\dashboard\platform-management\school-management\create\page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let o=(0,s.createProxy)(String.raw`C:\Users\Admin\Desktop\app\app\dashboard\platform-management\school-management\create\page.tsx#default`)},29152:(e,t,r)=>{"use strict";r.d(t,{f:()=>l});var s=r(17577);r(60962);var a=r(34214),i=r(10326),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,a.Z8)(`Primitive.${t}`),n=s.forwardRef((e,s)=>{let{asChild:a,...n}=e,o=a?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...n,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),o=s.forwardRef((e,t)=>(0,i.jsx)(n.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var l=o}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8537,434,3121,9082,770,4064,8578],()=>r(3330));module.exports=s})();