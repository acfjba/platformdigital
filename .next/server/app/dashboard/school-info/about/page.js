(()=>{var e={};e.id=6872,e.ids=[6872],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},45012:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>n}),t(74901),t(13321),t(85070),t(35866);var r=t(23191),a=t(88716),i=t(37922),o=t.n(i),l=t(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let n=["",{children:["dashboard",{children:["school-info",{children:["about",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,74901)),"C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\school-info\\about\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13321)),"C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,85070)),"C:\\Users\\Admin\\Desktop\\app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\school-info\\about\\page.tsx"],u="/dashboard/school-info/about/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/school-info/about/page",pathname:"/dashboard/school-info/about",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},13862:(e,s,t)=>{Promise.resolve().then(t.bind(t,71247))},71247:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(10326),a=t(17577),i=t(12727),o=t(29752),l=t(91664),d=t(41190),n=t(44794),c=t(82015),u=t(59308),p=t(77506),m=t(31215),x=t(41291);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,t(62881).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var f=t(38227),v=t(76025),b=t(76),g=t(84097),y=t(33261);let j={name:"Navolau District School",address:"Navolau, Rakiraki",type:"Primary School",history:"Navolau District School is located in Navolau, Rakiraki."};function N(){let[e,s]=(0,a.useState)(null),[t,N]=(0,a.useState)(!0),[w,k]=(0,a.useState)(!1),[q,C]=(0,a.useState)(null),[P,S]=(0,a.useState)(null),{toast:R}=(0,g.pm)(),Z="system-admin"===P||"head-teacher"===P||"primary-admin"===P||"assistant-head-teacher"===P||"librarian"===P;(0,a.useCallback)(async e=>{if(N(!0),!v.W||!v.db){s(j),N(!1),v.W&&R({variant:"destructive",title:"Error",description:"Database not available."});return}let t=(0,b.JU)(v.db,"schools",e);try{let e=await (0,b.QT)(t);if(e.exists()){let t=e.data();s({name:t.name||"",address:t.address||"",type:t.type||"",history:t.history||"No history provided."})}else s(j)}catch(e){console.error("Failed to fetch school info:",e),s(j)}finally{N(!1)}},[R]);let A=(e,t)=>{s(s=>s?{...s,[e]:t}:null)},_=async()=>{if(!q||!e){R({variant:"destructive",title:"Error",description:"No school data to save."});return}if(!v.db){R({variant:"destructive",title:"Error",description:"Database connection not available."});return}k(!0);try{let s=(0,b.JU)(v.db,"schools",q),t={name:e.name,address:e.address,type:e.type,history:e.history};await (0,b.r7)(s,t),R({title:"Success",description:"School information has been updated."})}catch(e){console.error("Error saving info:",e),R({variant:"destructive",title:"Error",description:"Could not save school information."})}finally{k(!1)}},M=e?`https://www.google.com/maps?q=${encodeURIComponent(e.address)}&output=embed`:"";return(0,r.jsxs)("div",{className:"p-8 space-y-8",children:[r.jsx(i.m,{title:"About The School",description:"View and edit general information about your school."}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[(0,r.jsxs)(o.Zb,{className:"lg:col-span-2",children:[r.jsx(o.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)(o.ll,{className:"flex items-center gap-2",children:[r.jsx(u.Z,{}),t?r.jsx(f.O,{className:"h-8 w-1/2"}):e?.name||"School Information"]}),Z&&(0,r.jsxs)(l.Button,{onClick:_,disabled:w,children:[w?r.jsx(p.Z,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})}),r.jsx(o.aY,{className:"space-y-6",children:t?(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(f.O,{className:"h-10 w-full"}),r.jsx(f.O,{className:"h-10 w-full"}),r.jsx(f.O,{className:"h-24 w-full"})]}):e?(0,r.jsxs)("div",{className:"space-y-4",children:[!Z&&(0,r.jsxs)(y.bZ,{variant:"default",className:"bg-blue-50 border-blue-200 text-blue-800",children:[r.jsx(x.Z,{className:"h-4 w-4"}),r.jsx(y.Cd,{children:"Read-Only"}),r.jsx(y.X,{children:"You do not have permission to edit this information."})]}),(0,r.jsxs)("div",{children:[r.jsx(n.Label,{htmlFor:"schoolName",children:"School Name"}),r.jsx(d.I,{id:"schoolName",value:e.name,onChange:e=>A("name",e.target.value),disabled:!Z})]}),(0,r.jsxs)("div",{children:[r.jsx(n.Label,{htmlFor:"schoolAddress",children:"Address"}),r.jsx(d.I,{id:"schoolAddress",value:e.address,onChange:e=>A("address",e.target.value),disabled:!Z})]}),(0,r.jsxs)("div",{children:[r.jsx(n.Label,{htmlFor:"schoolType",children:"School Type"}),r.jsx(d.I,{id:"schoolType",value:e.type,onChange:e=>A("type",e.target.value),disabled:!Z})]}),(0,r.jsxs)("div",{children:[r.jsx(n.Label,{htmlFor:"schoolHistory",children:"History & Mission"}),r.jsx(c.g,{id:"schoolHistory",value:e.history,onChange:e=>A("history",e.target.value),rows:5,disabled:!Z})]})]}):r.jsx("p",{children:"No information available for this school."})})]}),(0,r.jsxs)(o.Zb,{className:"lg:col-span-1",children:[r.jsx(o.Ol,{children:(0,r.jsxs)(o.ll,{className:"flex items-center gap-2",children:[r.jsx(h,{})," School Location"]})}),r.jsx(o.aY,{children:t?r.jsx(f.O,{className:"w-full h-80"}):e&&M?r.jsx("div",{className:"aspect-video w-full border rounded-md overflow-hidden",children:r.jsx("iframe",{width:"100%",height:"100%",loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade",src:M})}):r.jsx("p",{children:"Map could not be loaded."})})]})]})]})}},41291:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},31215:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62881).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},59308:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62881).Z)("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]])},12727:(e,s,t)=>{"use strict";t.d(s,{m:()=>a});var r=t(10326);function a({title:e,description:s,children:t}){return(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e}),r.jsx("p",{className:"text-lg text-muted-foreground",children:s})]}),t&&r.jsx("div",{className:"flex-shrink-0",children:t})]})}t(17577)},33261:(e,s,t)=>{"use strict";t.d(s,{Cd:()=>n,X:()=>c,bZ:()=>d});var r=t(10326),a=t(17577),i=t(79360),o=t(51223);let l=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=a.forwardRef(({className:e,variant:s,...t},a)=>r.jsx("div",{ref:a,role:"alert",className:(0,o.cn)(l({variant:s}),e),...t}));d.displayName="Alert";let n=a.forwardRef(({className:e,...s},t)=>r.jsx("h5",{ref:t,className:(0,o.cn)("mb-1 font-medium leading-none tracking-tight",e),...s}));n.displayName="AlertTitle";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,o.cn)("text-sm [&_p]:leading-relaxed",e),...s}));c.displayName="AlertDescription"},29752:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>l,SZ:()=>n,Zb:()=>o,aY:()=>c,eW:()=>u,ll:()=>d});var r=t(10326),a=t(17577),i=t(51223);let o=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));o.displayName="Card";let l=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let n=a.forwardRef(({className:e,...s},t)=>r.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));n.displayName="CardDescription";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s}));u.displayName="CardFooter"},41190:(e,s,t)=>{"use strict";t.d(s,{I:()=>o});var r=t(10326),a=t(17577),i=t(51223);let o=a.forwardRef(({className:e,type:s,...t},a)=>r.jsx("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));o.displayName="Input"},44794:(e,s,t)=>{"use strict";t.d(s,{Label:()=>n});var r=t(10326),a=t(17577),i=t(29152),o=t(79360),l=t(51223);let d=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=a.forwardRef(({className:e,...s},t)=>r.jsx(i.f,{ref:t,className:(0,l.cn)(d(),e),...s}));n.displayName=i.f.displayName},38227:(e,s,t)=>{"use strict";t.d(s,{O:()=>i});var r=t(10326),a=t(51223);function i({className:e,...s}){return r.jsx("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...s})}},82015:(e,s,t)=>{"use strict";t.d(s,{g:()=>o});var r=t(10326),a=t(17577),i=t(51223);let o=a.forwardRef(({className:e,...s},t)=>r.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));o.displayName="Textarea"},74901:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>o,__esModule:()=>i,default:()=>l});var r=t(68570);let a=(0,r.createProxy)(String.raw`C:\Users\Admin\Desktop\app\app\dashboard\school-info\about\page.tsx`),{__esModule:i,$$typeof:o}=a;a.default;let l=(0,r.createProxy)(String.raw`C:\Users\Admin\Desktop\app\app\dashboard\school-info\about\page.tsx#default`)},29152:(e,s,t)=>{"use strict";t.d(s,{f:()=>d});var r=t(17577);t(60962);var a=t(34214),i=t(10326),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let t=(0,a.Z8)(`Primitive.${s}`),o=r.forwardRef((e,r)=>{let{asChild:a,...o}=e,l=a?t:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...o,ref:r})});return o.displayName=`Primitive.${s}`,{...e,[s]:o}},{}),l=r.forwardRef((e,s)=>(0,i.jsx)(o.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var d=l}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[8537,434,3121,9082,8578],()=>t(45012));module.exports=r})();