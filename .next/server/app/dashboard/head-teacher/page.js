(()=>{var e={};e.id=252,e.ids=[252],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},87395:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(45252),s(13321),s(85070),s(35866);var r=s(23191),a=s(88716),i=s(37922),n=s.n(i),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["dashboard",{children:["head-teacher",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,45252)),"C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\head-teacher\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,13321)),"C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,85070)),"C:\\Users\\Admin\\Desktop\\app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\head-teacher\\page.tsx"],p="/dashboard/head-teacher/page",h={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/head-teacher/page",pathname:"/dashboard/head-teacher",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},15915:(e,t,s)=>{Promise.resolve().then(s.bind(s,62452))},5508:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62881).Z)("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]])},48238:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62881).Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},36283:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62881).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},59308:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62881).Z)("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]])},33734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62881).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},50949:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},62452:(e,t,s)=>{"use strict";s.d(t,{HeadTeacherClient:()=>D});var r=s(10326),a=s(17577),i=s(90434),n=s(91664),o=s(29752);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(62881).Z)("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);var d=s(48238),c=s(66050),p=s(59308),h=s(33734),u=s(36283),m=s(94909),f=s(5508),x=s(40167),y=s(50151),b=s(60763),g=s(50949),k=s(77506),w=s(12727),v=s(76025),j=s(76),N=s(33276);let C=[{label:"Staff Attendance",href:"/dashboard/attendance",icon:l,description:"Record and manage daily staff attendance.",permission:"attendance:view"},{label:"Review Submissions",href:"/dashboard/head-teacher/review-submissions",icon:d.Z,description:"Review and approve submitted teacher workbook plans.",permission:"lesson-plans:review"},{label:"Primary Inventory",href:"/dashboard/inventory",icon:c.Z,description:"Track and manage all fixed school assets.",permission:"inventory:primary:view"},{label:"School Information",href:"/dashboard/school-info",icon:p.Z,description:"View & edit school news, programs, and general info.",permission:"school-info:edit"},{label:"Rate Teachers",href:"/dashboard/teachers",icon:h.Z,description:"View and provide constructive feedback on teachers.",permission:"teachers:rate"},{label:"Review Lesson Plans",href:"/dashboard/lesson-planner",icon:u.Z,description:"View and provide feedback on detailed lesson plans.",permission:"lesson-plans:review"},{label:"Staff Records",href:"/dashboard/staff-records",icon:m.Z,description:"Manage staff information and view their records.",permission:"staff:view"},{label:"Academic Reports",href:"/dashboard/academics/exam-summary",icon:f.Z,description:"Analyze school-wide academic performance.",permission:"reports:school:view"},{label:"Disciplinary Records",href:"/dashboard/disciplinary",icon:x.Z,description:"Oversee and manage student disciplinary actions.",permission:"disciplinary:view"},{label:"Counselling Records",href:"/dashboard/counselling",icon:y.Z,description:"Access and review student counselling session logs.",permission:"counselling:view"},{label:"OHS Incidents",href:"/dashboard/health-and-safety",icon:b.Z,description:"Monitor and manage health and safety incident reports.",permission:"health-safety:view"}];async function q(e){if(!v.db)throw Error("Firestore is not configured.");let t=(0,j.hJ)(v.db,"staff"),s=(0,j.IO)(t,(0,j.ar)("schoolId","==",e),(0,j.ar)("role","==","teacher"));return(await (0,j.PL)(s)).docs.map(e=>({id:e.id,name:e.data().name}))}async function Z(e,t){if(!v.db)throw Error("Firestore is not configured.");let s=(0,j.hJ)(v.db,"workbookPlans"),r=(0,j.IO)(s,(0,j.ar)("schoolId","==",e),(0,j.ar)("week","==",t.toString()));return(await (0,j.PL)(r)).docs.map(e=>({id:e.id,teacherId:e.data().teacherId,week:e.data().week}))}function D(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[d,c]=(0,a.useState)(null),[p,h]=(0,a.useState)([]),[u,m]=(0,a.useState)(null);(0,a.useCallback)(async e=>{l(!0);try{let s=(0,N.Q)(new Date,{weekStartsOn:1}),[r,a]=await Promise.all([q(e),Z(e,s)]),i=new Set(a.map(e=>e.teacherId)),n=r.filter(e=>!i.has(e.id)).map(e=>e.name);t(n)}catch(e){console.error("Failed to check submissions:",e),t([])}finally{l(!1)}},[]);let f=C.filter(e=>"system-admin"===u||p.includes(e.permission));return(0,r.jsxs)("div",{className:"p-8 space-y-8",children:[r.jsx(w.m,{title:"Head Teacher Dashboard",description:"Your central hub for overseeing academic progress, staff management, and school operations."}),(0,r.jsxs)(o.Zb,{className:"bg-amber-50 border-amber-300",children:[r.jsx(o.Ol,{children:(0,r.jsxs)(o.ll,{className:"font-headline text-amber-800 flex items-center",children:[r.jsx(g.Z,{className:"mr-2 h-5 w-5"})," Submission Status (Current Week)"]})}),r.jsx(o.aY,{children:s?(0,r.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[r.jsx(k.Z,{className:"h-5 w-5 animate-spin"})," Checking for submissions..."]}):e.length>0?(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-semibold text-destructive mb-2",children:"The following teachers have not submitted their workbook plan for this week:"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.map(e=>r.jsx("li",{children:e},e))})]}):r.jsx("p",{className:"text-green-700 font-semibold",children:"All teachers have submitted their workbook plans for the current week. Well done!"})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(e=>{let t=e.icon;return(0,r.jsxs)(o.Zb,{className:"shadow-lg hover:shadow-xl transition-shadow rounded-lg flex flex-col",children:[r.jsx(o.Ol,{children:(0,r.jsxs)(o.ll,{className:"font-headline text-xl text-primary flex items-center",children:[r.jsx(t,{className:"mr-3 h-6 w-6"}),e.label]})}),(0,r.jsxs)(o.aY,{className:"flex flex-col flex-grow",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-4 flex-grow",children:e.description}),r.jsx(i.default,{href:e.href,className:"mt-auto",children:(0,r.jsxs)(n.Button,{className:"w-full",children:["Go to ",e.label]})})]})]},e.href)})})]})}},12727:(e,t,s)=>{"use strict";s.d(t,{m:()=>a});var r=s(10326);function a({title:e,description:t,children:s}){return(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e}),r.jsx("p",{className:"text-lg text-muted-foreground",children:t})]}),s&&r.jsx("div",{className:"flex-shrink-0",children:s})]})}s(17577)},29752:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>o,SZ:()=>d,Zb:()=>n,aY:()=>c,eW:()=>p,ll:()=>l});var r=s(10326),a=s(17577),i=s(51223);let n=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let o=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let p=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));p.displayName="CardFooter"},45252:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(19510),a=s(68570);let i=(0,a.createProxy)(String.raw`C:\Users\Admin\Desktop\app\src\components\dashboard\head-teacher-client.tsx`),{__esModule:n,$$typeof:o}=i;i.default;let l=(0,a.createProxy)(String.raw`C:\Users\Admin\Desktop\app\src\components\dashboard\head-teacher-client.tsx#HeadTeacherClient`);function d(){return r.jsx(l,{})}},61981:(e,t,s)=>{"use strict";s.d(t,{j:()=>a});let r={};function a(){return r}},79740:(e,t,s)=>{"use strict";s.d(t,{dP:()=>a,jE:()=>r,vh:()=>n,yJ:()=>i});let r=6048e5,a=864e5,i=6e4,n=36e5},99276:(e,t,s)=>{"use strict";function r(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}s.d(t,{L:()=>r})},33276:(e,t,s)=>{"use strict";s.d(t,{Q:()=>d});var r=s(79740),a=s(73159),i=s(99276),n=s(2942),o=s(61981),l=s(71271);function d(e,t){let s=(0,l.Q)(e);return Math.round((+(0,a.z)(s,t)-+function(e,t){let s=(0,o.j)(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=(0,n.c)(e,t),d=(0,i.L)(e,0);return d.setFullYear(l,0,r),d.setHours(0,0,0,0),(0,a.z)(d,t)}(s,t))/r.jE)+1}},2942:(e,t,s)=>{"use strict";s.d(t,{c:()=>o});var r=s(99276),a=s(73159),i=s(71271),n=s(61981);function o(e,t){let s=(0,i.Q)(e),o=s.getFullYear(),l=(0,n.j)(),d=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,c=(0,r.L)(e,0);c.setFullYear(o+1,0,d),c.setHours(0,0,0,0);let p=(0,a.z)(c,t),h=(0,r.L)(e,0);h.setFullYear(o,0,d),h.setHours(0,0,0,0);let u=(0,a.z)(h,t);return s.getTime()>=p.getTime()?o+1:s.getTime()>=u.getTime()?o:o-1}},73159:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(71271),a=s(61981);function i(e,t){let s=(0,a.j)(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,n=(0,r.Q)(e),o=n.getDay();return n.setDate(n.getDate()-((o<i?7:0)+o-i)),n.setHours(0,0,0,0),n}},71271:(e,t,s)=>{"use strict";function r(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}s.d(t,{Q:()=>r})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8537,434,3121,9082,8578],()=>s(87395));module.exports=r})();