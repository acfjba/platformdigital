(()=>{var e={};e.id=4367,e.ids=[4367],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},39046:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>n}),s(68320),s(13321),s(85070),s(35866);var r=s(23191),a=s(88716),o=s(37922),i=s.n(o),d=s(95231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(t,l);let n=["",{children:["dashboard",{children:["teachers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,68320)),"C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\teachers\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,13321)),"C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,85070)),"C:\\Users\\Admin\\Desktop\\app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\teachers\\page.tsx"],u="/dashboard/teachers/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/teachers/page",pathname:"/dashboard/teachers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},83811:(e,t,s)=>{Promise.resolve().then(s.bind(s,42900))},42900:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(10326),a=s(17577),o=s(90434),i=s(46226),d=s(29752),l=s(91664),n=s(41190),c=s(41291),u=s(38787),p=s(33734),m=s(84097),x=s(38227),f=s(82631),h=s(12727),g=s(76025),b=s(76);async function y(e){if(!g.db)throw Error("Firestore is not configured.");let t=(0,b.hJ)(g.db,"staff"),s=(0,b.IO)(t,(0,b.ar)("schoolId","==",e),(0,b.ar)("role","in",["teacher","head-teacher","assistant-head-teacher"]));return(await (0,b.PL)(s)).docs.map(e=>{let t=e.data();return{id:e.id,name:t.name,position:t.position,avatar:"https://placehold.co/80x80.png",dataAiHint:"teacher portrait",schoolId:t.schoolId,role:t.role}})}async function j(){if(!g.db)throw Error("Firestore is not configured.");let e=(0,b.hJ)(g.db,"staff"),t=(0,b.IO)(e,(0,b.ar)("role","in",["teacher","head-teacher","assistant-head-teacher"]));return(await (0,b.PL)(t)).docs.map(e=>{let t=e.data();return{id:e.id,name:t.name,position:t.position,avatar:"https://placehold.co/80x80.png",dataAiHint:"teacher portrait",schoolId:t.schoolId,role:t.role}})}function v(){let[e,t]=(0,a.useState)([]),[s,b]=(0,a.useState)(!0),[v,N]=(0,a.useState)(null),[w,q]=(0,a.useState)(""),[C,P]=(0,a.useState)(null),{toast:_}=(0,m.pm)(),[k,A]=(0,a.useState)(null);(0,a.useCallback)(async(e,s)=>{if(b(!0),N(null),!g.W){b(!1),N("Firebase is not configured.");return}try{let r;"system-admin"===e?r=await j():s?r=await y(s):(r=[],N("Cannot load teacher data. School ID is not available.")),t(r)}catch(e){N(e instanceof Error?e.message:"An unknown error occurred."),_({variant:"destructive",title:"Error",description:"Could not load teacher data."})}finally{b(!1)}},[_]);let I=(0,a.useMemo)(()=>e.filter(e=>e.name.toLowerCase().includes(w.toLowerCase())||e.position.toLowerCase().includes(w.toLowerCase())),[e,w]),S="system-admin"===k;return r.jsx(f.pn,{children:(0,r.jsxs)("div",{className:"p-8 space-y-8",children:[r.jsx(h.m,{title:"View & Rate Teachers",description:"Browse the list of teachers. You can only rate teachers from your own school."}),(0,r.jsxs)(d.Zb,{className:"shadow-lg rounded-lg",children:[r.jsx(d.Ol,{children:r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:r.jsx(n.I,{id:"search-teachers",placeholder:"Search by name or position...",value:w,onChange:e=>q(e.target.value),className:"max-w-xs"})})}),(0,r.jsxs)(d.aY,{children:[s&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>(0,r.jsxs)(d.Zb,{className:"flex flex-col items-center p-4",children:[r.jsx(x.O,{className:"h-20 w-20 rounded-full mb-3"}),r.jsx(x.O,{className:"h-6 w-3/4 mb-1"}),r.jsx(x.O,{className:"h-4 w-1/2"})]},t))}),!s&&v&&(0,r.jsxs)("div",{className:"text-center py-10",children:[r.jsx(c.Z,{className:"mx-auto h-12 w-12 text-destructive"}),r.jsx("p",{className:"mt-4 text-destructive",children:v})]}),!s&&!v&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[I.map(e=>(0,r.jsxs)(d.Zb,{className:"p-4 flex flex-col items-center text-center space-y-3",children:[r.jsx(i.default,{src:e.avatar,alt:`Photo of ${e.name}`,width:80,height:80,className:"rounded-full border-2 border-primary object-cover","data-ai-hint":e.dataAiHint}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("h3",{className:"font-headline text-lg font-semibold text-primary",children:e.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.position}),S&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center justify-center gap-1",children:[r.jsx(u.Z,{className:"h-3 w-3"})," School ID: ",e.schoolId]})]}),r.jsx(o.default,{href:`/dashboard/teachers/${e.id}/rate`,passHref:!0,className:"w-full",children:(0,r.jsxs)(l.Button,{className:"w-full",children:[r.jsx(p.Z,{className:"mr-2 h-4 w-4"})," Rate Teacher"]})})]},e.id)),0===I.length&&r.jsx(d.Zb,{className:"col-span-full bg-muted/30",children:(0,r.jsxs)(d.aY,{className:"p-6 text-center",children:[r.jsx(c.Z,{className:"mx-auto h-10 w-10 text-muted-foreground mb-3"}),r.jsx("p",{className:"text-lg text-foreground",children:"No Teachers Found"}),r.jsx("p",{className:"text-muted-foreground",children:"No rateable teachers match your current search criteria."})]})})]})]})]})]})})}},41291:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},33734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62881).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},46226:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(69029),a=s.n(r)},69029:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return l},getImageProps:function(){return d}});let r=s(91174),a=s(23078),o=s(92481),i=r._(s(86820));function d(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let l=o.Image},12727:(e,t,s)=>{"use strict";s.d(t,{m:()=>a});var r=s(10326);function a({title:e,description:t,children:s}){return(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e}),r.jsx("p",{className:"text-lg text-muted-foreground",children:t})]}),s&&r.jsx("div",{className:"flex-shrink-0",children:s})]})}s(17577)},29752:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>d,SZ:()=>n,Zb:()=>i,aY:()=>c,eW:()=>u,ll:()=>l});var r=s(10326),a=s(17577),o=s(51223);let i=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let d=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let n=a.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));n.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,o.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},41190:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var r=s(10326),a=s(17577),o=s(51223);let i=a.forwardRef(({className:e,type:t,...s},a)=>r.jsx("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));i.displayName="Input"},38227:(e,t,s)=>{"use strict";s.d(t,{O:()=>o});var r=s(10326),a=s(51223);function o({className:e,...t}){return r.jsx("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...t})}},82631:(e,t,s)=>{"use strict";s.d(t,{_v:()=>c,aJ:()=>n,pn:()=>d,u:()=>l});var r=s(10326),a=s(17577),o=s(42756),i=s(51223);let d=o.zt,l=o.fC,n=o.xz,c=a.forwardRef(({className:e,sideOffset:t=4,...s},a)=>r.jsx(o.VY,{ref:a,sideOffset:t,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));c.displayName=o.VY.displayName},68320:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>d});var r=s(68570);let a=(0,r.createProxy)(String.raw`C:\Users\Admin\Desktop\app\app\dashboard\teachers\page.tsx`),{__esModule:o,$$typeof:i}=a;a.default;let d=(0,r.createProxy)(String.raw`C:\Users\Admin\Desktop\app\app\dashboard\teachers\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8537,434,3121,9082,2481,2756,8578],()=>s(39046));module.exports=r})();