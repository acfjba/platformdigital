(()=>{var e={};e.id=5129,e.ids=[5129],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},83695:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(92302),r(13321),r(85070),r(35866);var s=r(23191),a=r(88716),i=r(37922),l=r.n(i),o=r(95231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);r.d(t,n);let d=["",{children:["dashboard",{children:["reporting",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,92302)),"C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\reporting\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13321)),"C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,85070)),"C:\\Users\\Admin\\Desktop\\app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Admin\\Desktop\\app\\app\\dashboard\\reporting\\page.tsx"],u="/dashboard/reporting/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/reporting/page",pathname:"/dashboard/reporting",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},34480:(e,t,r)=>{Promise.resolve().then(r.bind(r,31291))},31291:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(10326),a=r(17577),i=r(12727),l=r(29752),o=r(91664),n=r(44794),d=r(41190),c=r(9280),u=r(41156);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,r(62881).Z)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var m=r(77506),x=r(64004),f=r(31540),h=r(41291),g=r(84097),b=r(38227),y=r(78062);let v=[{id:"staff",label:"Staff Records"},{id:"examResults",label:"Exam Results"},{id:"disciplinary",label:"Disciplinary Records"},{id:"counselling",label:"Counselling Records"},{id:"ohs",label:"OHS Incidents"},{id:"classroomInventory",label:"Classroom Inventory"},{id:"primaryInventory",label:"Primary (School) Inventory"},{id:"libraryBooks",label:"Library Book Catalogue"},{id:"lessonPlans",label:"Teacher Lesson Plans"}];async function j(e,t,r){console.log("Fetching custom report data for sources:",e,"from",t,"to",r),await new Promise(e=>setTimeout(e,1500));let s=[];return e.includes("staff")&&s.push({title:"Staff Records (Active)",headers:["Name","Role","Email","School ID"],rows:[["Lureqe Leticia","teacher","lureqeleticia@gmail.com","2009"],["Rosa Batina","head-teacher","rosabatina3@gmail.com","2009"]]}),e.includes("examResults")&&s.push({title:"Exam Results",headers:["Date","Student","Subject","Score","Grade"],rows:[["2024-06-10","Jone Doe","Mathematics",85,"A"],["2024-11-20","Adi Litia","English",92,"A+"]]}),e.includes("disciplinary")&&s.push({title:"Disciplinary Records",headers:["Date","Student","Issue","Action Taken"],rows:[["2024-05-10","Ratu Manasa","Bullying, Disrespect","Parents contacted. 2-day in-school suspension."],["2024-05-12","Sereana Vula","Absenteeism","Attempted to contact parents. Home visit scheduled."]]}),e.includes("counselling")&&s.push({title:"Counselling Records",headers:["Date","Student","Type","Counsellor"],rows:[["2024-05-15","Jone Doe","Behavioral","Lureqe Leticia"],["2024-05-18","Adi Litia","Academic","Eshita Prasad"]]}),e.includes("ohs")&&s.push({title:"OHS Incident Records",headers:["Date","Type","Location","Reported By"],rows:[["2024-05-20","Injury","Playground - Swing Area","M. Watabu"],["2024-05-21","Hazard","Year 4 Classroom","Milieli Natale"]]}),e.includes("classroomInventory")&&s.push({title:"Classroom Inventory (Year 101)",headers:["Item Name","Start of Term","Added","Lost","Current Stock"],rows:[["Textbooks",30,5,2,33],["Pens",100,50,20,130]]}),e.includes("primaryInventory")&&s.push({title:"Primary School Inventory",headers:["Item Name","Quantity","Value (each)","Total Value"],rows:[["Student Desk",150,75.5,11325],["Dell Laptop",25,1200,3e4]]}),e.includes("libraryBooks")&&s.push({title:"Library Book Catalogue",headers:["Title","Author","Available","Total Copies"],rows:[["To Kill a Mockingbird","Harper Lee",3,3],["1984","George Orwell",4,5]]}),e.includes("lessonPlans")&&s.push({title:"Recent Lesson Plans",headers:["Subject","Topic","Term","Week"],rows:[["Mathematics","Introduction to Algebra","2","8"],["English","Shakespeare's Sonnets","2","8"]]}),s}function N(){let{toast:e}=(0,g.pm)(),[t,r]=(0,a.useState)([]),[N,w]=(0,a.useState)(""),[k,R]=(0,a.useState)(""),[C,S]=(0,a.useState)(!1),[P,q]=(0,a.useState)(null),D=(e,t)=>{r(r=>t?[...r,e]:r.filter(t=>t!==e))},A=async()=>{if(0===t.length){e({variant:"destructive",title:"Please select at least one data source."});return}S(!0),q(null);try{let e=await j(t,N,k);q(e)}catch(t){e({variant:"destructive",title:"Error",description:"Could not generate report."})}finally{S(!1)}};return(0,s.jsxs)("div",{className:"p-8 space-y-8",children:[s.jsx(i.m,{title:"Custom Report Generator",description:"Select data sources and criteria to build a custom report."}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[(0,s.jsxs)(l.Zb,{className:"lg:col-span-1 shadow-lg rounded-lg print:hidden",children:[s.jsx(l.Ol,{children:(0,s.jsxs)(l.ll,{className:"font-headline flex items-center",children:[s.jsx(p,{className:"mr-2 h-5 w-5"})," Report Options"]})}),(0,s.jsxs)(l.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx(n.Label,{className:"font-semibold",children:"Data Sources"}),s.jsx("div",{className:"space-y-2 mt-2 p-3 border rounded-md max-h-96 overflow-y-auto",children:v.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(c.X,{id:e.id,onCheckedChange:t=>D(e.id,!!t),checked:t.includes(e.id)}),s.jsx(n.Label,{htmlFor:e.id,className:"font-normal",children:e.label})]},e.id))})]}),(0,s.jsxs)("div",{children:[s.jsx(n.Label,{className:"font-semibold",children:"Date Range"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-2 mt-2",children:[(0,s.jsxs)("div",{children:[s.jsx(n.Label,{htmlFor:"date-from",className:"text-xs text-muted-foreground",children:"From"}),s.jsx(d.I,{id:"date-from",type:"date",value:N,onChange:e=>w(e.target.value)})]}),(0,s.jsxs)("div",{children:[s.jsx(n.Label,{htmlFor:"date-to",className:"text-xs text-muted-foreground",children:"To"}),s.jsx(d.I,{id:"date-to",type:"date",value:k,onChange:e=>R(e.target.value)})]})]})]})]}),s.jsx(l.eW,{children:(0,s.jsxs)(o.Button,{onClick:A,className:"w-full",disabled:C,children:[C?s.jsx(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}):null,C?"Generating...":"Generate Report"]})})]}),s.jsx("div",{className:"lg:col-span-3 printable-area",children:(0,s.jsxs)(l.Zb,{className:"shadow-lg rounded-lg",children:[s.jsx(l.Ol,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx(l.ll,{className:"font-headline",children:"Generated Report"}),s.jsx(l.SZ,{children:"Your custom-built report will appear below."})]}),(0,s.jsxs)("div",{className:"flex gap-2 print:hidden",children:[(0,s.jsxs)(o.Button,{onClick:()=>{e({title:"Printing...",description:"Use your browser's print dialog to save as PDF or print."}),window.print()},variant:"outline",disabled:!P,children:[s.jsx(x.Z,{className:"mr-2 h-4 w-4"})," Print"]}),(0,s.jsxs)(o.Button,{onClick:()=>{if(!P||0===P.length){e({variant:"destructive",title:"No data to export."});return}let t="data:text/csv;charset=utf-8,";P.forEach(e=>{t+=`"${e.title}"
`+e.headers.map(e=>`"${e.replace(/"/g,'""')}"`).join(",")+"\n"+e.rows.map(e=>e.map(e=>`"${String(e).replace(/"/g,'""')}"`).join(",")).join("\n")+"\n\n"});let r=encodeURI(t),s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download",`custom_report_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(s),s.click(),document.body.removeChild(s),e({title:"Export Successful",description:"Custom report has been downloaded as a CSV file."})},disabled:!P,children:[s.jsx(f.Z,{className:"mr-2 h-4 w-4"})," Export CSV"]})]})]})}),(0,s.jsxs)(l.aY,{className:"min-h-[400px]",children:[C&&s.jsx(b.O,{className:"h-64 w-full"}),!C&&!P&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center p-8 border-2 border-dashed rounded-lg",children:[s.jsx(h.Z,{className:"h-12 w-12 text-muted-foreground/50"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-muted-foreground",children:"No Report Generated"}),s.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:'Select your options and click "Generate Report".'})]}),!C&&P&&0===P.length&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center p-8 border-2 border-dashed rounded-lg",children:[s.jsx(h.Z,{className:"h-12 w-12 text-muted-foreground/50"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-muted-foreground",children:"No Data Found"}),s.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"No data was found for your selected criteria."})]}),!C&&P&&P.length>0&&s.jsx("div",{className:"space-y-8",children:P.map((e,t)=>(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:e.title}),s.jsx("div",{className:"overflow-x-auto rounded-md border",children:(0,s.jsxs)(u.iA,{children:[s.jsx(u.xD,{children:s.jsx(u.SC,{children:e.headers.map(e=>s.jsx(u.ss,{children:e},e))})}),s.jsx(u.RM,{children:e.rows.map((e,t)=>s.jsx(u.SC,{children:e.map((e,t)=>s.jsx(u.pj,{children:e},t))},t))})]})}),t<P.length-1&&s.jsx(y.Z,{className:"mt-8"})]},t))})]})]})})]})]})}},41291:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},31540:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62881).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},12727:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var s=r(10326);function a({title:e,description:t,children:r}){return(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e}),s.jsx("p",{className:"text-lg text-muted-foreground",children:t})]}),r&&s.jsx("div",{className:"flex-shrink-0",children:r})]})}r(17577)},29752:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>o,SZ:()=>d,Zb:()=>l,aY:()=>c,eW:()=>u,ll:()=>n});var s=r(10326),a=r(17577),i=r(51223);let l=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let o=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let n=a.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},9280:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});var s=r(10326),a=r(17577),i=r(12090),l=r(32933),o=r(51223);let n=a.forwardRef(({className:e,...t},r)=>s.jsx(i.fC,{ref:r,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(i.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:s.jsx(l.Z,{className:"h-4 w-4"})})}));n.displayName=i.fC.displayName},41190:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var s=r(10326),a=r(17577),i=r(51223);let l=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));l.displayName="Input"},44794:(e,t,r)=>{"use strict";r.d(t,{Label:()=>d});var s=r(10326),a=r(17577),i=r(29152),l=r(79360),o=r(51223);let n=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},r)=>s.jsx(i.f,{ref:r,className:(0,o.cn)(n(),e),...t}));d.displayName=i.f.displayName},78062:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(10326),a=r(17577),i=r(17415),l=r(51223);let o=a.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},o)=>s.jsx(i.f,{ref:o,decorative:r,orientation:t,className:(0,l.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));o.displayName=i.f.displayName},38227:(e,t,r)=>{"use strict";r.d(t,{O:()=>i});var s=r(10326),a=r(51223);function i({className:e,...t}){return s.jsx("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...t})}},41156:(e,t,r)=>{"use strict";r.d(t,{RM:()=>n,SC:()=>d,iA:()=>l,pj:()=>u,ss:()=>c,xD:()=>o});var s=r(10326),a=r(17577),i=r(51223);let l=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:(0,i.cn)("w-full caption-bottom text-sm",e),...t})}));l.displayName="Table";let o=a.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:(0,i.cn)("[&_tr]:border-b",e),...t}));o.displayName="TableHeader";let n=a.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...t}));n.displayName="TableBody",a.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));d.displayName="TableRow";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let u=a.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",a.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},92302:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>o});var s=r(68570);let a=(0,s.createProxy)(String.raw`C:\Users\Admin\Desktop\app\app\dashboard\reporting\page.tsx`),{__esModule:i,$$typeof:l}=a;a.default;let o=(0,s.createProxy)(String.raw`C:\Users\Admin\Desktop\app\app\dashboard\reporting\page.tsx#default`)},29152:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});var s=r(17577);r(60962);var a=r(34214),i=r(10326),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,a.Z8)(`Primitive.${t}`),l=s.forwardRef((e,s)=>{let{asChild:a,...l}=e,o=a?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...l,ref:s})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),o=s.forwardRef((e,t)=>(0,i.jsx)(l.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var n=o},17415:(e,t,r)=>{"use strict";r.d(t,{f:()=>c});var s=r(17577);r(60962);var a=r(34214),i=r(10326),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,a.Z8)(`Primitive.${t}`),l=s.forwardRef((e,s)=>{let{asChild:a,...l}=e,o=a?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...l,ref:s})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),o="horizontal",n=["horizontal","vertical"],d=s.forwardRef((e,t)=>{let{decorative:r,orientation:s=o,...a}=e,d=n.includes(s)?s:o;return(0,i.jsx)(l.div,{"data-orientation":d,...r?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...a,ref:t})});d.displayName="Separator";var c=d}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8537,434,3121,9082,7297,8578],()=>r(83695));module.exports=s})();